'\" t
.\" Automatically generated by Pandoc 2.17.0.1
.\"
.TH "doskey" 1 "" "" "" ""
.hy
.SH doskey
.PP
Calls Doskey.exe, which recalls previously entered command-line
commands, edits command lines, and creates macros.
.SS Syntax
.IP
.nf
\f[C]
doskey [/reinstall] [/listsize=<size>] [/macros:[all | <exename>] [/history] [/insert | /overstrike] [/exename=<exename>] [/macrofile=<filename>] [<macroname>=[<text>]]
\f[R]
.fi
.SS Parameters
.PP
.TS
tab(@);
lw(31.5n) lw(38.5n).
T{
Parameter
T}@T{
Description
T}
_
T{
/reinstall
T}@T{
Installs a new copy of Doskey.exe and clears the command history buffer.
T}
T{
/listsize=\f[C]<size>\f[R]
T}@T{
Specifies the maximum number of commands in the history buffer.
T}
T{
/macros
T}@T{
Displays a list of all \f[B]doskey\f[R] macros.
You can use the redirection symbol (\f[C]>\f[R]) with \f[B]/macros\f[R]
to redirect the list to a file.
You can abbreviate \f[B]/macros\f[R] to \f[B]/m\f[R].
T}
T{
/macros:all
T}@T{
Displays \f[B]doskey\f[R] macros for all executables.
T}
T{
/macros:\f[C]<exename>\f[R]
T}@T{
Displays \f[B]doskey\f[R] macros for the executable specified by
\f[I]exename\f[R].
T}
T{
/history
T}@T{
Displays all commands that are stored in memory.
You can use the redirection symbol (\f[C]>\f[R]) with \f[B]/history\f[R]
to redirect the list to a file.
You can abbreviate \f[B]/history\f[R] as \f[B]/h\f[R].
T}
T{
/insert
T}@T{
Specifies that new text you type is inserted in old text.
T}
T{
/overstrike
T}@T{
Specifies that new text overwrites old text.
T}
T{
/exename=\f[C]<exename>\f[R]
T}@T{
Specifies the program (that is, executable) in which the
\f[B]doskey\f[R] macro runs.
T}
T{
/macrofile=\f[C]<filename>\f[R]
T}@T{
Specifies a file that contains the macros that you want to install.
T}
T{
\f[C]<macroname>\f[R]=[\f[C]<text>\f[R]]
T}@T{
Creates a macro that carries out the commands specified by
\f[I]Text\f[R].
\f[I]MacroName\f[R] specifies the name you want to assign to the macro.
\f[I]Text\f[R] specifies the commands you want to record.
If \f[I]Text\f[R] is left blank, \f[I]MacroName\f[R] is cleared of any
assigned commands.
T}
T{
/?
T}@T{
Displays help at the command prompt.
T}
.TE
.SS Remarks
.IP \[bu] 2
Certain character-based, interactive programs, such as program debuggers
or file transfer programs (FTP) automatically use Doskey.exe.
To use Doskey.exe, a program must be a console process and use buffered
input.
Program key assignments override \f[B]doskey\f[R] key assignments.
For example, if the program uses the F7 key for a function, you cannot
get a \f[B]doskey\f[R] command history in a pop-up window.
.IP \[bu] 2
You can use Doskey.exe to edit the current command line, but you
can\[cq]t use the command-line options from a program\[cq]s command
prompt.
You must run \f[B]doskey\f[R] command-line options before you start a
program.
If you use Doskey.exe within a program, that program\[cq]s key
assignments take precedence and some Doskey.exe editing keys might not
work.
.IP \[bu] 2
With Doskey.exe, you can maintain a command history for each program
that you start or repeat.
You can edit previous commands at the program\[cq]s prompt, and start
\f[B]doskey\f[R] macros created for the program.
If you exit and then restart a program from the same Command Prompt
window, the command history from the previous program session is
available.
.IP \[bu] 2
To recall a command, you can use any of the following keys after you
start Doskey.exe:
.RS 2
.PP
.TS
tab(@);
lw(15.0n) lw(55.0n).
T{
Key
T}@T{
Description
T}
_
T{
UP ARROW
T}@T{
Recalls the command that you used before the one that is displayed.
T}
T{
DOWN ARROW
T}@T{
Recalls the command that you used after the one that is displayed.
T}
T{
PAGE UP
T}@T{
Recalls the first command that you used in the current session.
T}
T{
PAGE DOWN
T}@T{
Recalls the most recent command that you used in the current session.
T}
.TE
.RE
.IP \[bu] 2
The following table lists \f[B]doskey\f[R] editing keys and their
functions:
.RS 2
.PP
.TS
tab(@);
lw(46.7n) lw(23.3n).
T{
Key or key combination
T}@T{
Description
T}
_
T{
LEFT ARROW
T}@T{
Moves the insertion point back one character.
T}
T{
RIGHT ARROW
T}@T{
Moves the insertion point forward one character.
T}
T{
CTRL+LEFT ARROW
T}@T{
Moves the insertion point back one word.
T}
T{
CTRL+RIGHT ARROW
T}@T{
Moves the insertion point forward one word.
T}
T{
HOME
T}@T{
Moves the insertion point to the beginning of the line.
T}
T{
END
T}@T{
Moves the insertion point to the end of the line.
T}
T{
ESC
T}@T{
Clears the command from the display.
T}
T{
F1
T}@T{
Copies one character from a column in the template to the same column in
the Command Prompt window.
(The template is a memory buffer that holds the last command you typed.)
T}
T{
F2
T}@T{
Searches forward in the template for the next key that you type after
you press F2.
Doskey.exe inserts the text from the template\[em]up to, but not
including, the character you specify.
T}
T{
F3
T}@T{
Copies the remainder of the template to the command line.
Doskey.exe begins copying characters from the position in the template
that corresponds to the position indicated by the insertion point on the
command line.
T}
T{
F4
T}@T{
Deletes all characters from the current insertion point position up to,
but not including, the next occurrence of the character that you type
after you press F4.
T}
T{
F5
T}@T{
Copies the template into the current command line.
T}
T{
F6
T}@T{
Places an end-of-file character (CTRL+Z) at the current insertion point
position.
T}
T{
F7
T}@T{
Displays (in a dialog box) all commands for this program that are stored
in memory.
Use the UP ARROW key and the DOWN ARROW key to select the command you
want, and press ENTER to run the command.
You can also note the sequential number in front of the command and use
this number in conjunction with the F9 key.
T}
T{
ALT+F7
T}@T{
Deletes all commands stored in memory for the current history buffer.
T}
T{
F8
T}@T{
Displays all commands in the history buffer that start with the
characters in the current command.
T}
T{
F9
T}@T{
Prompts you for a history buffer command number, and then displays the
command associated with the number that you specify.
Press ENTER to run the command.
To display all the numbers and their associated commands, press F7.
T}
T{
ALT+F10
T}@T{
Deletes all macro definitions.
T}
.TE
.RE
.IP \[bu] 2
If you press the INSERT key, you can type text on the \f[B]doskey\f[R]
command line in the midst of existing text without replacing the text.
However, after you press ENTER, Doskey.exe returns your keyboard to
\f[B]Replace\f[R] mode.
You must press INSERT again to return to \f[B]Insert\f[R] mode.
.IP \[bu] 2
The insertion point changes shape when you use the INSERT key to change
from one mode to the other.
.IP \[bu] 2
If you want to customize how Doskey.exe works with a program and create
\f[B]doskey\f[R] macros for that program, you can create a batch program
that modifies Doskey.exe and starts the program.
.IP \[bu] 2
You can use Doskey.exe to create macros that carry out one or more
commands.
The following table lists special characters that you can use to control
command operations when you define a macro.
.RS 2
.PP
.TS
tab(@);
lw(33.3n) lw(36.7n).
T{
Character
T}@T{
Description
T}
_
T{
\f[C]$G\f[R] or \f[C]$g\f[R]
T}@T{
Redirects output.
Use either of these special characters to send output to a device or a
file instead of to the screen.
This character is equivalent to the redirection symbol for output
(\f[C]>\f[R]).
T}
T{
\f[C]$G$G\f[R] or \f[C]$g$g\f[R]
T}@T{
Appends output to the end of a file.
Use either of these double characters to append output to an existing
file instead of replacing the data in the file.
These double characters are equivalent to the append redirection symbol
for output (\f[C]>>\f[R]).
T}
T{
\f[C]$L\f[R] or \f[C]$l\f[R]
T}@T{
Redirects input.
Use either of these special characters to read input from a device or a
file instead of from the keyboard.
This character is equivalent to the redirection symbol for input
(\f[C]<\f[R]).
T}
T{
\f[C]$B\f[R] or \f[C]$b\f[R]
T}@T{
Sends macro output to a command.
These special characters are equivalent to using the pipe \f[C](\f[R]
and \f[C]*\f[R].
T}
T{
\f[C]$T\f[R] or \f[C]$t\f[R]
T}@T{
Separates commands.
Use either of these special characters to separate commands when you
create macros or type commands on the \f[B]doskey\f[R] command line.
These special characters are equivalent to using the ampersand
(\f[C]&\f[R]) on a command line.
T}
T{
\f[C]$$\f[R]
T}@T{
Specifies the dollar-sign character (\f[C]$\f[R]).
T}
T{
\f[C]$1\f[R] through \f[C]$9\f[R]
T}@T{
Represent any command-line information you want to specify when you run
the macro.
The special characters \f[C]$1\f[R] through \f[C]$9\f[R] are batch
parameters that enable you to use different data on the command line
each time you run the macro.
The \f[C]$1\f[R] character in a \f[B]doskey\f[R] command is similar to
the \f[C]%1\f[R] character in a batch program.
T}
T{
\f[C]$*\f[R]
T}@T{
Represents all the command-line information that you want to specify
when you type the macro name.
The special character \f[C]$*\f[R] is a replaceable parameter that is
similar to the batch parameters \f[C]$1\f[R] through \f[C]$9\f[R], with
one important difference: everything you type on the command line after
the macro name is substituted for the \f[C]$*\f[R] in the macro.
T}
.TE
.RE
.IP \[bu] 2
To run a macro, type the macro name at the command prompt, starting at
the first position.
If the macro was defined with \f[C]$*\f[R] or any of the batch
parameters \f[C]$1\f[R] through \f[C]$9\f[R], use a space to separate
the parameters.
You cannot run a \f[B]doskey\f[R] macro from a batch program.
.IP \[bu] 2
If you always use a particular command with specific command-line
options, you can create a macro that has the same name as the command.
To specify whether you want to run the macro or the command, follow
these guidelines:
.RS 2
.IP \[bu] 2
To run the macro, type the macro name at the command prompt.
Do not add a space before the macro name.
.IP \[bu] 2
To run the command, insert one or more spaces at the command prompt, and
then type the command name.
.RE
.SS Examples
.PP
The \f[B]/macros\f[R] and \f[B]/history\f[R] command-line options are
useful for creating batch programs to save macros and commands.
For example, to store all current \f[B]doskey\f[R] macros, type:
.IP
.nf
\f[C]
doskey /macros > macinit
\f[R]
.fi
.PP
To use the macros stored in Macinit, type:
.IP
.nf
\f[C]
doskey /macrofile=macinit
\f[R]
.fi
.PP
To create a batch program named Tmp.bat that contains recently used
commands, type:
.IP
.nf
\f[C]
doskey /history> tmp.bat
\f[R]
.fi
.PP
To define a macro with multiple commands, use \f[C]$t\f[R] to separate
commands, as follows:
.IP
.nf
\f[C]
doskey tx=cd temp$tdir/w $*
\f[R]
.fi
.PP
In the preceding example, the TX macro changes the current directory to
Temp and then displays a directory listing in wide display format.
You can use \f[C]$*\f[R] at the end of the macro to append other
command-line options to \f[B]dir\f[R] when you run the tx option.
.PP
The following macro uses a batch parameter for a new directory name:
.IP
.nf
\f[C]
doskey mc=md $1$tcd $1
\f[R]
.fi
.PP
The macro creates a new directory and then changes to the new directory
from the current directory.
.PP
To use the preceding macro to create and change to a directory named
\f[I]Books\f[R], type:
.IP
.nf
\f[C]
mc books
\f[R]
.fi
.PP
To create a \f[B]doskey\f[R] macro for a program called
\f[I]Ftp.exe\f[R], include \f[B]/exename\f[R] as follows:
.IP
.nf
\f[C]
doskey /exename=ftp.exe go=open 172.27.1.100$tmget *.TXT c:\[rs]reports$tbye
\f[R]
.fi
.PP
To use the preceding macro, start FTP.
At the FTP prompt, type:
.IP
.nf
\f[C]
go
\f[R]
.fi
.PP
FTP runs the \f[B]open\f[R], \f[B]mget\f[R], and \f[B]bye\f[R] commands.
.PP
To create a macro that quickly and unconditionally formats a disk, type:
.IP
.nf
\f[C]
doskey qf=format $1 /q /u
\f[R]
.fi
.PP
To quickly and unconditionally format a disk in drive A, type:
.IP
.nf
\f[C]
qf a:
\f[R]
.fi
.PP
To delete a macro called \f[I]vlist\f[R], type:
.IP
.nf
\f[C]
doskey vlist =
\f[R]
.fi
.SS Additional References
.IP \[bu] 2
Command-Line Syntax Key
.SH AUTHORS
JasonGerend.
