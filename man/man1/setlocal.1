'\" t
.\" Automatically generated by Pandoc 2.17.0.1
.\"
.TH "setlocal" 1 "" "" "" ""
.hy
.SH setlocal
.PP
Starts localization of environment variables in a batch file.
Localization continues until a matching \f[B]endlocal\f[R] command is
encountered or the end of the batch file is reached.
.SS Syntax
.IP
.nf
\f[C]
setlocal [enableextensions | disableextensions] [enabledelayedexpansion | disabledelayedexpansion]
\f[R]
.fi
.SS Parameters
.PP
.TS
tab(@);
lw(35.0n) lw(35.0n).
T{
Parameter
T}@T{
Description
T}
_
T{
enableextensions
T}@T{
Enables the command extensions until the matching \f[B]endlocal\f[R]
command is encountered, regardless of the setting before the
\f[B]setlocal\f[R] command was run.
T}
T{
disableextensions
T}@T{
Disables the command extensions until the matching \f[B]endlocal\f[R]
command is encountered, regardless of the setting before the
\f[B]setlocal\f[R] command was run.
T}
T{
enabledelayedexpansion
T}@T{
Enables the delayed environment variable expansion until the matching
\f[B]endlocal\f[R] command is encountered, regardless of the setting
before the \f[B]setlocal\f[R] command was run.
T}
T{
disabledelayedexpansion
T}@T{
Disables the delayed environment variable expansion until the matching
\f[B]endlocal\f[R] command is encountered, regardless of the setting
before the \f[B]setlocal\f[R] command was run.
T}
T{
/?
T}@T{
Displays help at the command prompt.
T}
.TE
.SS Remarks
.IP \[bu] 2
If you use \f[B]setlocal\f[R] outside of a script or batch file, it has
no effect.
.IP \[bu] 2
Use \f[B]setlocal\f[R] to change environment variables when you run a
batch file.
Environment changes made after you run \f[B]setlocal\f[R] are local to
the batch file.
The Cmd.exe program restores previous settings when it encounters an
\f[B]endlocal\f[R] command or reaches the end of the batch file.
.IP \[bu] 2
You can have more than one \f[B]setlocal\f[R] or \f[B]endlocal\f[R]
command in a batch program (that is, nested commands).
.IP \[bu] 2
The \f[B]setlocal\f[R] command sets the ERRORLEVEL variable.
If you pass {\f[B]enableextensions\f[R] | \f[B]disableextensions\f[R]}
or {\f[B]enabledelayedexpansion\f[R] |
\f[B]disabledelayedexpansion\f[R]}, the ERRORLEVEL variable is set to
\f[B]0\f[R] (zero).
Otherwise, it\[cq]s set to \f[B]1\f[R].
You can use this information in batch scripts to determine whether the
extensions are available, as shown in the following example:
.RS 2
.IP
.nf
\f[C]
verify other 2>nul
setlocal enableextensions
if errorlevel 1 echo Unable to enable extensions
\f[R]
.fi
.PP
Because \f[B]cmd\f[R] does not set the ERRORLEVEL variable when command
extensions are disabled, the \f[B]verify\f[R] command initializes the
ERRORLEVEL variable to a nonzero value when you use it with an invalid
argument.
Also, if you use the \f[B]setlocal\f[R] command with arguments
{\f[B]enableextensions\f[R] | \f[B]disableextensions\f[R]} or
{\f[B]enabledelayedexpansion\f[R] | \f[B]disabledelayedexpansion\f[R]}
and it does not set the ERRORLEVEL variable to \f[B]1\f[R], command
extensions are not available.
.RE
.SS Examples
.PP
To localize environment variables in a batch file, follow this sample
script:
.IP
.nf
\f[C]
rem *******Begin Comment**************
rem This program starts the superapp batch program on the network,
rem directs the output to a file, and displays the file
rem in Notepad.
rem *******End Comment**************
\[at]echo off
setlocal
path=g:\[rs]programs\[rs]superapp;%path%
call superapp>c:\[rs]superapp.out
endlocal
start notepad c:\[rs]superapp.out
\f[R]
.fi
.SS Additional References
.IP \[bu] 2
Command-Line Syntax Key
.SH AUTHORS
JasonGerend.
