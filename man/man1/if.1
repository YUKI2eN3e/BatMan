'\" t
.\" Automatically generated by Pandoc 2.17.0.1
.\"
.TH "if" 1 "" "" "" ""
.hy
.SH if
.PP
Performs conditional processing in batch programs.
.SS Syntax
.IP
.nf
\f[C]
if [not] ERRORLEVEL <number> <command> [else <expression>]
if [not] <string1>==<string2> <command> [else <expression>]
if [not] exist <filename> <command> [else <expression>]
\f[R]
.fi
.PP
If command extensions are enabled, use the following syntax:
.IP
.nf
\f[C]
if [/i] <string1> <compareop> <string2> <command> [else <expression>]
if cmdextversion <number> <command> [else <expression>]
if defined <variable> <command> [else <expression>]
\f[R]
.fi
.SS Parameters
.PP
.TS
tab(@);
lw(30.0n) lw(40.0n).
T{
Parameter
T}@T{
Description
T}
_
T{
not
T}@T{
Specifies that the command should be carried out only if the condition
is false.
T}
T{
errorlevel \f[C]<number>\f[R]
T}@T{
Specifies a true condition only if the previous program run by Cmd.exe
returned an exit code equal to or greater than \f[I]number\f[R].
T}
T{
\f[C]<command>\f[R]
T}@T{
Specifies the command that should be carried out if the preceding
condition is met.
T}
T{
\f[C]<string1>==<string2>\f[R]
T}@T{
Specifies a true condition only if \f[I]string1\f[R] and
\f[I]string2\f[R] are the same.
These values can be literal strings or batch variables (for example,
\f[C]%1\f[R]).
You do not need to enclose literal strings in quotation marks.
T}
T{
exist \f[C]<filename>\f[R]
T}@T{
Specifies a true condition if the specified file name exists.
T}
T{
\f[C]<compareop>\f[R]
T}@T{
Specifies a three-letter comparison operator, including:
T}
T{
/i
T}@T{
Forces string comparisons to ignore case.
You can use \f[B]/i\f[R] on the \f[C]string1==string2\f[R] form of
\f[B]if\f[R].
These comparisons are generic, in that if both \f[I]string1\f[R] and
\f[I]string2\f[R] are comprised of numeric digits only, the strings are
converted to numbers and a numeric comparison is performed.
T}
T{
cmdextversion \f[C]<number>\f[R]
T}@T{
Specifies a true condition only if the internal version number
associated with the command extensions feature of Cmd.exe is equal to or
greater than the number specified.
The first version is 1.
It increases by increments of one when significant enhancements are
added to the command extensions.
The \f[B]cmdextversion\f[R] conditional is never true when command
extensions are disabled (by default, command extensions are enabled).
T}
T{
defined \f[C]<variable>\f[R]
T}@T{
Specifies a true condition if \f[I]variable\f[R] is defined.
T}
T{
\f[C]<expression>\f[R]
T}@T{
Specifies a command-line command and any parameters to be passed to the
command in an \f[B]else\f[R] clause.
T}
T{
/?
T}@T{
Displays help at the command prompt.
T}
.TE
.SS Remarks
.IP \[bu] 2
If the condition specified in an \f[B]if\f[R] clause is true, the
command that follows the condition is carried out.
If the condition is false, the command in the \f[B]if\f[R] clause is
ignored and the command executes any command that is specified in the
\f[B]else\f[R] clause.
.IP \[bu] 2
When a program stops, it returns an exit code.
To use exit codes as conditions, use the \f[B]errorlevel\f[R] parameter.
.IP \[bu] 2
If you use \f[B]defined\f[R], the following three variables are added to
the environment: \f[B]%errorlevel%\f[R], \f[B]%cmdcmdline%\f[R], and
\f[B]%cmdextversion%\f[R].
.RS 2
.IP \[bu] 2
\f[B]%errorlevel%\f[R]: Expands into a string representation of the
current value of the ERRORLEVEL environment variable.
This variable assumes that there isn\[cq]t already an existing
environment variable with the name ERRORLEVEL.
If there is, you\[cq]ll get that ERRORLEVEL value instead.
.IP \[bu] 2
\f[B]%cmdcmdline%\f[R]: Expands into the original command line that was
passed to Cmd.exe prior to any processing by Cmd.exe.
This assumes that there isn\[cq]t already an existing environment
variable with the name CMDCMDLINE.
If there is, you\[cq]ll get that CMDCMDLINE value instead.
.IP \[bu] 2
\f[B]%cmdextversion%\f[R]: Expands into the string representation of the
current value of \f[B]cmdextversion\f[R].
This assumes that there isn\[cq]t already an existing environment
variable with the name CMDEXTVERSION.
If there is, you\[cq]ll get that CMDEXTVERSION value instead.
.RE
.IP \[bu] 2
You must use the \f[B]else\f[R] clause on the same line as the command
after the \f[B]if\f[R].
.SS Examples
.PP
To display the message \f[B]Cannot find data file if the file
Product.dat cannot be found\f[R], type:
.IP
.nf
\f[C]
if not exist product.dat echo Cannot find data file
\f[R]
.fi
.PP
To format a disk in drive A and display an error message if an error
occurs during the formatting process, type the following lines in a
batch file:
.IP
.nf
\f[C]
:begin
\[at]echo off
format a: /s
if not errorlevel 1 goto end
echo An error occurred during formatting.
:end
echo End of batch program.
\f[R]
.fi
.PP
To delete the file Product.dat from the current directory or display a
message if Product.dat is not found, type the following lines in a batch
file:
.IP
.nf
\f[C]
IF EXIST Product.dat (
del Product.dat
) ELSE (
echo The Product.dat file is missing.
)
\f[R]
.fi
.RS
.PP
[!NOTE] These lines can be combined into a single line as follows:
.IP
.nf
\f[C]
IF EXIST Product.dat (del Product.dat) ELSE (echo The Product.dat file is missing.)
\f[R]
.fi
.RE
.PP
To echo the value of the ERRORLEVEL environment variable after running a
batch file, type the following lines in the batch file:
.IP
.nf
\f[C]
goto answer%errorlevel%
:answer1
echo The program returned error level 1
goto end
:answer0
echo The program returned error level 0
goto end
:end
echo Done!
\f[R]
.fi
.PP
To go to the okay label if the value of the ERRORLEVEL environment
variable is less than or equal to 1, type:
.IP
.nf
\f[C]
if %errorlevel% LEQ 1 goto okay
\f[R]
.fi
.SS Additional References
.IP \[bu] 2
Command-Line Syntax Key
.IP \[bu] 2
goto command
.SH AUTHORS
JasonGerend.
